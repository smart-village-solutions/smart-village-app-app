# Capability(BSI TR-03185-2 Compliance)
)
## Overview)
)
This capability enables the Smart Village App to comply with BSI TR-03185-2 (Secure Software Lifecycle for Open Source Software) requirements through automated security scanning, dependency management, SBOM generation, and vulnerability management processes.)
)
## ADDED Requirements)
)
### Requirement(Enhanced Contribution Guidelines (REQ-BSI-GV-01))
)
**Description**(The project MUST provide comprehensive contribution guidelines including security standards, code quality requirements, and review processes.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 GV.01 requires public contribution documentation with quality standards and review processes.)
)
#### Scenario(Contributor Reads Security Guidelines)
)
**Given** a developer wants to contribute to the project  )
**When** they access the CONTRIBUTING.md file  )
**Then** they should find:)
)
- Clear security standards and expectations)
- Code quality requirements (tests, linting, documentation))
- Detailed review process description)
- Developer Certificate of Origin (DCO) requirements)
- Memory safety guidelines)
)
### Requirement(Repository Access Control (REQ-BSI-GV-02))
)
**Description**(Repository access and sensitive data MUST be protected through branch protection, 2FA enforcement, and secure secrets management.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 GV.02 requires protection against unauthorized access and secure handling of credentials.)
)
#### Scenario(Protected Branch Enforcement)
)
**Given** a maintainer attempts to push directly to master branch  )
**When** the push is initiated  )
**Then** it should be rejected  )
**And** require pull request with review)
)
#### Scenario(2FA Requirement)
)
**Given** a maintainer with write access  )
**When** they access the repository  )
**Then** they MUST have 2FA enabled on their account)
)
### Requirement(Software Bill of Materials (REQ-BSI-QA-01))
)
**Description**(Every release MUST include a machine-readable SBOM listing all dependencies with versions, licenses, and known vulnerabilities.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 QA.01 requires comprehensive dependency tracking for security and compliance.)
)
#### Scenario(SBOM Generation on Release)
)
**Given** a new release is created  )
**When** the release workflow runs  )
**Then** it MUST:)
)
- Generate CycloneDX SBOM in JSON format)
- Generate CycloneDX SBOM in XML format)
- Include all production dependencies)
- Include version information)
- Include license information)
- Upload SBOM files to release assets)
)
#### Scenario(SBOM Verification)
)
**Given** a user downloads a release  )
**When** they check the release assets  )
**Then** they MUST find:)
)
- sbom.json file)
- sbom.xml file)
- Complete dependency list in SBOM)
)
### Requirement(BSI-QA-02(Public Source Code)
)
**Description**(All source code MUST be publicly readable in a version control repository.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 QA.02 requires transparency for open-source projects.)
)
#### Scenario(Public Repository Access)
)
**Given** an anonymous user  )
**When** they navigate to the repository URL  )
**Then** they MUST be able to view all source code  )
**And** clone the repository without authentication)
)
### Requirement(BSI-QA-03(Bug Reporting Process)
)
**Description**(The project MUST provide clear documentation on how to report bugs, including templates for structured reports.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 QA.03 requires documented bug reporting processes.)
)
#### Scenario(Bug Report Submission)
)
**Given** a user discovers a bug  )
**When** they navigate to the issues section  )
**Then** they MUST find:)
)
- Link to create new issue)
- Bug report template)
- Clear instructions on required information)
- Distinction between regular bugs and security issues)
)
### Requirement(BSI-QA-04(Automated Testing)
)
**Description**(Testing procedures MUST be implemented and automatically executed on every code change.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 QA.04 requires implemented and utilized testing procedures.)
)
#### Scenario(CI Test Execution)
)
**Given** a pull request is created  )
**When** CI/CD pipeline runs  )
**Then** it MUST:)
)
- Execute unit tests)
- Execute integration tests)
- Execute end-to-end tests)
- Fail if coverage < 70%)
- Report test results)
)
#### Scenario(Local Test Execution)
)
**Given** a developer makes code changes  )
**When** they run `yarn test`  )
**Then** all tests MUST execute locally  )
**And** report the same results as CI)
)
### Requirement(BSI-QA-05(Security Scanning)
)
**Description**(The project MUST implement static and dynamic security scanning to detect memory safety issues, code vulnerabilities, and dependency risks.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 QA.05 requires measures to reduce memory safety issues and vulnerabilities.)
)
#### Scenario(CodeQL Static Analysis)
)
**Given** a pull request modifies JavaScript/TypeScript code  )
**When** the security scan workflow runs  )
**Then** it MUST:)
)
- Run CodeQL analysis)
- Use security-extended queries)
- Upload results to GitHub Security tab)
- Fail on high/critical findings)
)
#### Scenario(Dependency Vulnerability Scanning)
)
**Given** dependencies are defined in package.json  )
**When** security scan runs  )
**Then** it MUST:)
)
- Scan all dependencies with Snyk or equivalent)
- Report known CVEs)
- Fail on high/critical vulnerabilities)
- Provide remediation advice)
)
#### Scenario(ESLint Security Rules)
)
**Given** code is committed  )
**When** linting runs  )
**Then** it MUST:)
)
- Check for security anti-patterns (eval, unsafe regex, etc.))
- Fail on security violations)
- Report issues with remediation hints)
)
### Requirement(BSI-QA-06(Code Review Requirement)
)
**Description**(All code changes SHOULD be reviewed by peers before merging.)
)
**Priority**(SOLLTE)
)
**Rationale**(BSI TR-03185-2 QA.06 recommends peer review for quality assurance.)
)
#### Scenario(Pull Request Review Requirement)
)
**Given** a pull request is ready to merge  )
**When** merge is attempted  )
**Then** it MUST:)
)
- Require at least 1 approval)
- Require passing CI checks)
- Require conversation resolution)
- Block merge without approval)
)
### Requirement(BSI-BR-01(Build Documentation)
)
**Description**(Information for building all software assets MUST be publicly available.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 BR.01 requires public build instructions.)
)
#### Scenario(Build Instructions Available)
)
**Given** a developer wants to build the app  )
**When** they read the documentation  )
**Then** they MUST find:)
)
- Prerequisites (Node.js version, tools))
- Step-by-step build instructions)
- Environment variable documentation)
- Expected build outputs)
)
### Requirement(BSI-BR-02(Semantic Versioning)
)
**Description**(All releases MUST use unique, monotonically increasing version identifiers following semantic versioning.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 BR.02 requires unambiguous versioning.)
)
#### Scenario(Release Version Assignment)
)
**Given** a new release is created  )
**When** version is assigned  )
**Then** it MUST:)
)
- Follow semantic versioning (MAJOR.MINOR.PATCH))
- Be higher than previous version)
- Be tagged in Git)
- Include release notes)
)
### Requirement(BSI-BR-03(Build Integrity Verification)
)
**Description**(All release assets MUST be distributed with integrity verification (checksums) to ensure authenticity.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 BR.03 requires verifiable integrity.)
)
#### Scenario(Checksum Generation)
)
**Given** a release is published  )
**When** assets are uploaded  )
**Then** it MUST:)
)
- Generate SHA256 checksums for all artifacts)
- Upload checksums.txt to release)
- Document verification process)
)
#### Scenario(Checksum Verification by User)
)
**Given** a user downloads release artifacts  )
**When** they verify checksums  )
**Then** they MUST be able to:)
)
- Download checksums.txt)
- Run `shasum -a 256 -c checksums.txt`)
- Verify all artifacts match)
)
### Requirement(BSI-BR-04(Changelog Maintenance)
)
**Description**(All releases MUST include a changelog documenting functional and security-relevant changes.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 BR.04 requires change documentation.)
)
#### Scenario(Changelog Update on Release)
)
**Given** a new release is created  )
**When** release notes are generated  )
**Then** CHANGELOG.md MUST contain:)
)
- Version number and date)
- Added features)
- Changed functionality)
- Fixed bugs)
- Security fixes (with CVE if applicable))
- Breaking changes)
- Deprecated features)
)
### Requirement(BSI-VM-01(Security Contact and Disclosure)
)
**Description**(The project MUST provide security contact information and a responsible disclosure policy.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 VM.01 requires documented security reporting channels.)
)
#### Scenario(Security Contact Information)
)
**Given** a security researcher discovers a vulnerability  )
**When** they look for reporting instructions  )
**Then** SECURITY.md MUST provide:)
)
- Security contact email)
- GitHub Security Advisories link)
- PGP key (optional))
- Expected response timeline)
- Coordinated disclosure policy)
)
#### Scenario(Private Vulnerability Reporting)
)
**Given** a security issue is reported privately  )
**When** maintainers receive the report  )
**Then** they MUST:)
)
- Acknowledge within 3 business days)
- Provide initial assessment within 7 days)
- Coordinate fix development)
- Coordinate disclosure with reporter)
)
### Requirement(BSI-VM-02(Vulnerability Publication)
)
**Description**(The project MUST publish information about discovered vulnerabilities within a reasonable timeframe.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 VM.02 requires timely vulnerability disclosure.)
)
#### Scenario(Security Advisory Publication)
)
**Given** a vulnerability is fixed  )
**When** patch is released  )
**Then** project MUST:)
)
- Publish GitHub Security Advisory)
- Include CVE number (if applicable))
- Describe vulnerability)
- List affected versions)
- List fixed version)
- Provide workarounds (if any))
- Calculate CVSS score)
)
#### Scenario(User Notification)
)
**Given** a security advisory is published  )
**When** users access the app  )
**Then** they SHOULD be notified:)
)
- Via release notes)
- Via GitHub Security Advisories)
- Via in-app notification (for critical issues))
)
### Requirement(BSI-LE-01(License Documentation)
)
**Description**(All project content MUST have clearly identified licenses.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 LE.01 requires license identification for all content.)
)
#### Scenario(Main License Visibility)
)
**Given** a user accesses the repository  )
**When** they check for licensing  )
**Then** they MUST find:)
)
- LICENSE.md in repository root)
- License badge in README)
- SPDX identifier in package.json)
)
### Requirement(BSI-LE-02(Third-Party License Tracking)
)
**Description**(Copies or references to all used licenses MUST be provided.)
)
**Priority**(MUST)
)
**Rationale**(BSI TR-03185-2 LE.02 requires complete license documentation.)
)
#### Scenario(Dependency License Report)
)
**Given** a release is published  )
**When** license information is checked  )
**Then** it MUST include:)
)
- Automated license report (LICENSES.md))
- Direct dependencies (LICENSES_DIRECT.md))
- SBOM with license information)
- License compliance check in CI)
)
### Requirement(BSI-QA-AUTO-01(Automated Dependency Updates)
)
**Description**(Dependencies SHOULD be automatically checked for updates and security issues.)
)
**Priority**(SOLLTE)
)
**Rationale**(Proactive dependency management reduces security risks.)
)
#### Scenario(Dependabot Pull Requests)
)
**Given** a dependency has an update  )
**When** Dependabot checks daily  )
**Then** it SHOULD:)
)
- Create pull request automatically)
- Group minor/patch updates)
- Separate security updates)
- Auto-assign reviewers)
)
#### Scenario(Security Update Priority)
)
**Given** a dependency has a security vulnerability  )
**When** Dependabot detects it  )
**Then** it MUST:)
)
- Create separate PR immediately)
- Label as security update)
- Notify maintainers)
- Provide remediation details)
)
## Implementation Notes)
)
### Tooling Stack)
)
- **GitHub Actions**(CI/CD automation)
- **CodeQL**(Static analysis (SAST))
- **Snyk**(Dependency scanning (SCA))
- **CycloneDX**(SBOM generation)
- **Dependabot**(Automated dependency updates)
- **ESLint Security Plugin**(Security linting)
- **Jest**(Unit/integration testing)
- **Maestro**(End-to-end testing)
)
### Integration Points)
)
- GitHub Security tab for centralized vulnerability management)
- GitHub Releases for SBOM distribution)
- GitHub Issues for bug tracking)
- SECURITY.md for vulnerability reporting)
- CONTRIBUTING.md for contribution guidelines)
)
### Performance Considerations)
)
- Total CI/CD time budget(~760 minutes/month)
- Caching strategies for faster builds)
- Parallel workflow execution where possible)
- Weekly vs. daily vs. on-demand scheduling)
)
### Compliance Evidence)
)
Each requirement maps to specific BSI TR-03185-2 sections and provides automated evidence through:)
)
- GitHub Actions workflow runs)
- Security tab reports)
- Release artifacts)
- Documentation files)
- Branch protection settings)
)
## Dependencies)
)
- GitHub repository (already exists))
- GitHub Actions (already in use))
- Node.js 20+ (already required))
- Third-party security tools (free tiers available))
)
## Migration Strategy)
)
For existing Smart Village App implementation:)
)
1. Phase 1(Documentation updates (CONTRIBUTING, SECURITY, BUILD))
2. Phase 2(Enable GitHub native tools (Dependabot, CodeQL))
3. Phase 3(Add SBOM generation workflow)
4. Phase 4(Add third-party scanning (Snyk))
5. Phase 5(Enforce via branch protection)
)
## Success Criteria)
)
- All MUSS requirements implemented ✅)
- Automated workflows running successfully ✅)
- SBOM generated for every release ✅)
- Security scans passing or findings addressed ✅)
- 70%+ test coverage maintained ✅)
- Vulnerability response time ≤3 days ✅)
